<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- Your app title -->
    <!--<title>健康检测</title>-->
    <!-- Path to Framework7 Library CSS, iOS Theme -->
    <link rel="stylesheet" href="css/framework7.ios.min.css">
    <!-- Path to Framework7 color related styles, iOS Theme -->
    <link rel="stylesheet" href="css/framework7.ios.colors.min.css">
    <!-- iconfont -->
    <link rel="stylesheet" href="css/iconfont.css">
    <!-- Path to your custom app styles-->
    <link rel="stylesheet" href="css/app-home.css">
    <link rel="stylesheet" href="css/report-detail.css">
    <link rel="stylesheet" href="css/checkitem-list.css">
    <link rel="stylesheet" href="css/photo-uploader.css">
    <link rel="stylesheet" href="css/record.css">
    <link rel="stylesheet" href="css/add-record.css">
    <link rel="stylesheet" href="css/trend.css">
</head>
<body>
    <!-- Status bar overlay for full screen mode (PhoneGap) -->
    <div class="statusbar-overlay"></div>
    <div class="panel-overlay"></div>
    <div class="panel panel-right panel-reveal">

    </div>
    <!-- Views -->
    <div class="views tabs toolbar-fixed">
        <!-- Your main view, should have "view-main" class -->
        <div id="tab-main" class="view view-main tab active">
            <div class="navbar navbar-hidden">
                <div class="navbar-inner">
                    <!-- We need cool sliding animation on title element, so we have additional "sliding" class -->
                    <!--<div class="center sliding">Thorgene</div>-->
                </div>
            </div>

            <!-- Pages container, because we use fixed-through navbar and toolbar, it has additional appropriate classes-->
            <div class="pages navbar-through">
                <div data-page="home-page" class="page no-navbar">
                    <div class="page-content infinite-scroll pull-to-refresh-content">
                        <div class="pull-to-refresh-layer">
                            <div class="preloader"></div>
                            <div class="pull-to-refresh-arrow"></div>
                        </div>
                        <div class="summary">
                            <div class="score-wrapper">
                                <div class="score-border">
                                    <div class="score">-</div>
                                    <div class="score-text">总评</div>
                                </div>
                            </div>
                            <div class="checkitem-statistic">
                                <div>
                                    <div class="statistic-title">正常指标</div>
                                    <div class="statistic-value-wrapper">
                                        <span class="statistic-value">0</span>
                                        <span class="statistic-unit">个</span></div>
                                </div>
                                <div class="vertical-bar"></div>
                                <div>
                                    <div class="statistic-title">预警指标</div>
                                    <div class="statistic-value-wrapper">
                                        <span class="statistic-value">0</span>
                                        <span class="statistic-unit">个</span></div>
                                </div>
                                <div class="vertical-bar"></div>
                                <div>
                                    <div class="statistic-title">危险指标</div>
                                    <div class="statistic-value-wrapper">
                                        <span class="statistic-value">0</span>
                                        <span class="statistic-unit">个</span></div>
                                </div>
                            </div>
                        </div>
                        <a href="manual-add.html" class="manual-add">+</a>
                        <a href="photo-uploader.html" class="photo-add"><i class="iconfont">&#xe60c;</i></a>
                        <div class="detail" ></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-record" class="view view-record tab">
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="left"></div>
                    <div class="center">记录</div>
                    <div class="right" onclick="ThorgeneGlobal.recordPage.addRecord()">
                        <i class="iconfont" id="add-record">&#xe608;</i>
                    </div>
                </div>
            </div>

            <div class="pages navbar-through toolbar-through">
                <div class="page" data-page="record">
                    <div class="page-content infinite-scroll pull-to-refresh-content">
                        <div class="pull-to-refresh-layer">
                            <div class="preloader"></div>
                            <div class="pull-to-refresh-arrow"></div>
                        </div>
                        <div class="record-container">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-trend" class="view view-trend tab">
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="center">历史趋势</div>
                    <div class="subnavbar">
                        <div class="buttons-row">
                        </div>
                    </div>
                </div>
            </div>

            <div class="pages navbar-through toolbar-through">
                <div class="page with-subnavbar" data-page="trendPage">
                    <div class="page-content">
                            <div class="unit"></div>
                            <div id="chart"></div>
                            <div class="items tabs"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="toolbar tabbar">
            <div class="toolbar-inner">
                <a href="#tab-main" class="tab-link active">动态</a>
                <a href="#tab-trend" class="tab-link">趋势</a>
                <a href="#tab-record" class="tab-link">记录</a>
            </div>
        </div>
    </div>
    <script type="text/template7" id="reportsTpl">
        {{#js_compare "this.reports.length === 0"}}
        <div class="report-empty-tooltip">
            <p class="tooltip-p1">您还没有上传数据~</p>
            <p class="tooltip-p2">点击上方按钮添加数据</p>
        </div>
        {{/js_compare}}
        {{#each reports}}
        {{#each reports}}
        <div class="content-block-title">{{reportDate}}</div>
        <div class="list-block media-list inset">
            <ul>
                <li class="swipeout">
                    <div class="item-link item-content swipeout-content" report-id="{{id}}" check-time="{{time}}"
                         onclick="ThorgeneGlobal.showReportDetail(this, '{{this.status}}')">
                        <div class="report-left">
                            <i class="iconfont report-icon">
                                {{#js_compare "this.type === '图片'"}}&#xe618;{{/js_compare}}
                                {{#js_compare "this.type === '手动'"}}&#xe60b;{{/js_compare}}
                            </i>
                            {{#js_compare "this.type === '图片' && this.status === '处理中'"}}
                            <div class="report-status">{{status}}</div>
                            {{else}}
                            <div class="report-time">{{reportTime}}</div>
                            {{/js_compare}}
                        </div>
                        <div class="item-inner">
                            <div class="item-title-row report-container">
                                <div class="report-content">
                                    <div class="report-title">正常</div>
                                    <div class="report-value">{{normal}}</div>
                                </div>
                                <div class="report-content">
                                    <div class="report-title">预警</div>
                                    <div class="report-value">{{warning}}</div>
                                </div>
                                <div class="report-content">
                                    <div class="report-title">危险</div>
                                    <div class="report-value">{{danger}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swipeout-actions-right">
                        <a href="#" class="delete-report" onclick="ThorgeneGlobal.deleteReport(this)">
                            <i class="iconfont">&#xe607;</i>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        {{/each}}
    </script>
    <script type="text/template7" id="preloaderTpl">
        <div class="infinite-scroll-preloader">
            <div class="preloader"></div>
        </div>
    </script>
    <script type="text/template7" id="reportDetailTpl">
        <div class="navbar">
            <div class="navbar-inner">
                <div class="left sliding">
                    <a href="app-home.html" class="back link">
                        <i class="icon icon-back"></i>
                        <span>返回</span>
                    </a>
                </div>
                <!-- We need cool sliding animation on title element, so we have additional "sliding" class -->
                <div class="center sliding">Thorgene</div>

                <!-- Sub navbar -->
                <div class="subnavbar sliding">
                    <!-- Sub navbar content, for example tabs buttons -->
                    <div class="buttons-row">
                        <div class="button tab-link active">全部</div>
                        <div class="button tab-link" filter="正常">正常</div>
                        <div class="button tab-link" filter="预警">预警</div>
                        <div class="button tab-link" filter="危险">危险</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="pages navbar-through toolbar-through">
            <!-- Page, "data-page" contains page name -->
            <div data-page="report-detail" class="page with-subnavbar">
                <div class="page-content">
                    <div class="page-scroll">
                        {{#each reportDetails}}
                        <div class="list-block accordion-list inset" state-level="{{warning}}">
                            <ul>
                                <li class="accordion-item">
                                    <a href="#" class="item-link item-content">
                                        <div class="checkitem-left">
                                            <i class="iconfont checkitem-icon">{{iconfontCode}}</i>
                                        </div>
                                        <div class="item-inner">
                                            <div class="checkitem-container">
                                                <div class="checkitem-name">{{name}}</div>
                                                <div class="checkitem-value">{{#if numberResult}}{{numberResult}}{{else}}{{result}}{{/if}}</div>
                                                <div class="checkitem-unit">{{unit}}</div>
                                            </div>
                                        </div>
                                    </a>
                                    <div class="accordion-item-content">
                                        <div class="content-block">
                                            <div class="checkitem-graph">graph</div>
                                            <div class="checkitem-desc1">
                                                <pre>{{intro}}</pre>
                                            </div>
                                            <div class="checkitem-desc2">
                                                <pre>{{abnormal}}</pre>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        {{/each}}
                        <div class="item-padding"></div>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <script type="text/template7" id="modalPickerTpl">
        <div class="picker-modal">
            <div class="toolbar">
                <div class="toolbar-inner">
                    <div class="left">
                        <a href="#" class="link close-picker">取消</a>
                    </div>
                    <div class="center">{{name}}{{#if unit}}({{unit}}){{/if}}</div>
                    <div class="right">
                        <a href="#" class="link close-picker" item-id="{{id}}" item-name="{{name}}"
                           item-iconfont="{{iconFontCode}}" data-type="{{dataType}}" onclick="ThorgeneGlobal.manualAddOneDone(this)">完成</a>
                    </div>
                </div>
            </div>

            <div class="picker-modal-inner">
                <div class="list-block">
                    <ul>
                        {{#js_compare "this.dataType === '数值'"}}
                        <li>
                            <div class="item-content">
                                <div class="item-inner">
                                    <div class="item-input">
                                        <input type="number" value="{{default}}">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="item-content">
                                <div class="item-inner">
                                    <div class="range-slider">
                                        <input type="range" min="{{low}}" max="{{high}}" value="{{default}}"
                                               step="{{accuracy}}" oninput="ThorgeneGlobal.slideOnChange(this)">
                                    </div>
                                </div>
                            </div>
                        </li>
                        {{/js_compare}}
                        {{#js_compare "this.dataType === '枚举'"}}
                        <li>
                            <div class="item-content">
                                <div class="item-inner">
                                    <div class="item-title label">{{#js_compare "this.default === '阳性'"}}阳性{{else}}阴性{{/js_compare}}</div>
                                    <div class="item-input">
                                        <label class="label-switch">
                                            <input type="checkbox" {{#js_compare "this.default === '阳性'"}}checked{{/js_compare}}>
                                            <div class="checkbox"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </li>
                        {{/js_compare}}
                    </ul>
                </div>
            </div>
        </div>
    </script>
    <script type="text/template7" id="checkitemListTpl">
        <li>
            <div class="item-content" data-collected="{{isCollected}}">
                <div class="item-media"><i class="iconfont" style="color:{{starColor}}" onclick="ThorgeneGlobal.toggleCollect(this)">&#xe60e;</i></div>
                <div class="item-inner check-item" onclick="ThorgeneGlobal.popupPicker(this)">
                    <div class="item-title" item-id={{id}}>
                        <i class="iconfont">{{iconFontCode}}</i>
                        <span class="item-name">{{name}}</span>
                    </div>
                </div>
            </div>
        </li>
    </script>
    <script type="text/template7" id="itemToAddTpl">
        <div class="collect-checkitem" item-id={{id}} onclick="ThorgeneGlobal.popupPicker(this)">
            <i class="iconfont">{{iconFontCode}}</i>
            <p class="name">{{name}}</p>
            <p class="value">{{value}}</p>
        </div>
    </script>
    <script type="text/template7" id="recordItemTpl">
        {{#each records}}
        <div class="record-div" record-id="{{id}}">
            <div class="record-day">
                <div>
                    <span class="day">{{day}}日</span>
                    <span class="month">{{month}}月</span>
                </div>
                <i class="iconfont node">&#xe60a;</i>
            </div>
            <div class="record-details">
                <div class="img-box">
                    {{#each images}}
                    <img data-src="{{imgSrc}}" id="{{imgId}}" onclick="ThorgeneGlobal.recordPage.previewImg(this)" class="lazy">
                    {{/each}}
                </div>
                <div class="record-text">
                    <p>{{content}}
                    </p>
                </div>
                <div class="record-time">
                    <i class="iconfont">&#xe609;</i>
                    <p class="time-value">{{time}}</p>
                    <i class="iconfont delete-label" onclick="ThorgeneGlobal.recordPage.delRecord(this)">&#xe607;</i>
                </div>
            </div>
        </div>
        {{/each}}
    </script>

    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="js/framework7.min.js"></script>
    <script type="text/javascript" src="js/dateformat.js"></script>
    <script type="text/javascript" src="js/echarts.min.js"></script>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <!-- Path to your app js-->
    <script type="text/javascript" src="js/app-home.js"></script>
    <script type="text/javascript" src="js/trend.js"></script>
</body>
</html>